### Variables globales
@url = http://127.0.0.1:8000
@dest_id = 1
@act_id = 1

### PRUEBAS DE DESTINOS 


### Obtener todos los destinos
GET {{url}}/destinations/

### 1. Crear Destino: Tokio
POST {{url}}/destinations/
Content-Type: application/json

{
  "name": "Tokio",
  "country": "Japón",
  "budget": 2500.0,
  "visited": false
}

### 2. Crear Destino: París
POST {{url}}/destinations/
Content-Type: application/json

{
  "name": "París",
  "country": "Francia",
  "budget": 1800.0,
  "visited": true
}

### 3. Actividad para Tokio (ID 1) - Sushi Tsukiji
POST {{url}}/destinations/1/activities/
Content-Type: application/json

{
  "name": "Taller de Sushi en Tsukiji",
  "cost": 85.0,
  "duration_minutes": 180,
  "category": "Gastronomía",
  "requires_booking": true
}

### 4. Actividad para Tokio (ID 1) - Mirador Shibuya
POST {{url}}/destinations/1/activities/
Content-Type: application/json

{
  "name": "Entrada Shibuya Sky",
  "cost": 20.0,
  "duration_minutes": 60,
  "category": "Turismo",
  "requires_booking": true
}

### 5. Actividad para París (ID 2) - Museo Louvre
POST {{url}}/destinations/2/activities/
Content-Type: application/json

{
  "name": "Tour Guiado Louvre",
  "cost": 45.0,
  "duration_minutes": 240,
  "category": "Cultura",
  "requires_booking": true
}

### 6. Actividad para París (ID 2) - Paseo Sena
POST {{url}}/destinations/2/activities/
Content-Type: application/json

{
  "name": "Paseo en Barco por el Sena",
  "cost": 15.0,
  "duration_minutes": 70,
  "category": "Ocio",
  "requires_booking": false
}

### PRUEBAS DE ACTIVIDADES

### Crear actividad para un destino (POST)
POST {{url}}/destinations/{{dest_id}}/activities/
Content-Type: application/json

{
  "name": "Tour Gastronómico Nocturno",
  "cost": 45.5,
  "duration_minutes": 180,
  "category": "Comida",
  "requires_booking": true
}

### Crear otra actividad (Para tener lista)
POST {{url}}/destinations/{{dest_id}}/activities/
Content-Type: application/json

{
  "name": "Visita Museo del Muro",
  "cost": 15.0,
  "duration_minutes": 120,
  "category": "Historia",
  "requires_booking": false
}

### Obtener todas las actividades de un destino (GET)
GET {{url}}/destinations/{{dest_id}}/activities/

### Obtener una actividad específica por su ID (GET)
GET {{url}}/activities/{{act_id}}

### Actualizar una actividad (PUT/PATCH parcial)
# Solo cambiamos el coste y la categoría
PUT {{url}}/activities/{{act_id}}
Content-Type: application/json

{
  "cost": 50.0,
  "category": "Experiencia Premium"
}

### Eliminar una actividad (DELETE)
DELETE {{url}}/activities/{{act_id}}


### CASOS DE ERROR 

### ERROR 404: Crear actividad en destino inexistente
POST {{url}}/destinations/999/activities/
Content-Type: application/json

{
  "name": "Actividad Fantasma",
  "cost": 10.0,
  "duration_minutes": 30,
  "category": "Test",
  "requires_booking": false
}

### ERROR 404: Obtener actividad inexistente
GET {{url}}/activities/999

### ERROR 422: Validación fallida (coste como texto)
POST {{url}}/destinations/{{dest_id}}/activities/
Content-Type: application/json

{
  "name": "Error de validación",
  "cost": "caro",
  "duration_minutes": 60,
  "category": "Test",
  "requires_booking": false
}

### ERROR 404: Actualizar actividad que no existe
PUT {{url}}/activities/999
Content-Type: application/json

{
  "name": "Nombre nuevo"
}